.shopido-ajax-search{
  --h: 48px;
  --radius: 12px;
  --gap: 10px;
  --ring: 0 1px 0 rgba(0,0,0,.06), 0 8px 30px rgba(0,0,0,.06);
  position: relative;
  font-family: inherit;
}

.shopido-ajax-search.compact{
  --h: 40px;
  --radius: 10px;
}

.shopido-ajax-search__field{
  height: var(--h);
  display: flex;
  align-items: center;
  gap: var(--gap);
  border: 1px solid #e6e8ed;
  background: #fff;
  border-radius: var(--radius);
  padding: 0 14px;
  box-shadow: var(--ring);
}

.shopido-ajax-search__clear,
.shopido-ajax-search__icon{
  color: #9aa3b2;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
  user-select: none;
}

.shopido-ajax-search__input{
  flex: 1;
  height: 100%;
  border: 0;
  outline: 0;
  background: transparent;
  font-size: 14px;
}

.shopido-ajax-search__results{
  position: absolute;
  inset-inline: 0;
  top: calc(var(--h) + 8px);
  background: #fff;
  border: 1px solid #e6e8ed;
  border-radius: 14px;
  box-shadow: var(--ring);
  padding: 10px;
  max-height: 60vh;
  overflow: auto;

  /* پیش‌فرض پنهان */
  opacity: 0;
  transform: translateY(-4px);
  pointer-events: none;
  transition: opacity .18s ease, transform .18s ease;
}
.shopido-ajax-search.is-open .shopido-ajax-search__results{
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

/* آیتم‌ها */
.sr-item{
  display: grid;
  grid-template-columns: 56px 1fr auto;
  align-items: center;
  gap: 12px;
  padding: 10px;
  border-radius: 12px;
  text-decoration: none;
  color: #111827;
}
.sr-item:hover{ background: #f7f8fb; }

.sr-item .sr-thumb{
  width: 56px; height: 56px;
  border-radius: 12px; overflow: hidden; background: #f2f3f6;
  display:flex;align-items:center;justify-content:center;
}
.sr-item .sr-thumb img{ width:100%; height:100%; object-fit:cover; }

.sr-item .sr-meta{ display:flex; flex-direction:column; gap:6px; }
.sr-item .sr-title{ font-size:14px; font-weight:600; }
.sr-item .sr-price{ font-size:13px; color:#0a7b48; font-weight:700; }

/* حالت کارت */
.sr-item--card{ grid-template-columns: 64px 1fr; }
.sr-item--card .sr-price{ margin-top: -2px; }

/* بک‌دراپ برای بستن با کلیک بیرون */
.shopido-ajax-search__backdrop{
  position: fixed;
  inset: 0;
  background: transparent;
  z-index: 9997;
}

/* مود مخصوص هدر: پنل فیکس زیر هدر */
.shopido-ajax-search.in-header .shopido-ajax-search__results{
  position: fixed;
  right: 12px; left: 12px;
  /* ارتفاع هدر سایتت رو اینجا ست کن یا با CSS variable بده */
  top: calc(var(--header-height, 64px) + 8px);
  z-index: 9998;
  max-width: 960px;
  margin: 0 auto;
}

/* ریسپانسیو */
@media (max-width: 768px){
  .shopido-ajax-search{ --h: 42px; }
  .sr-item{ grid-template-columns: 48px 1fr auto; }
  .sr-item .sr-thumb{ width:48px; height:48px; border-radius:10px; }
  .shopido-ajax-search.in-header .shopido-ajax-search__results{
    right: 8px; left: 8px; top: calc(var(--header-height, 56px) + 6px);
  }
}
/* --- visibility tweaks --- */
.shopido-ajax-search .sas-panel{display:none;}
.shopido-ajax-search.is-open .sas-panel{display:block;}

.sas-view-all{display:none;}
.shopido-ajax-search.has-results .sas-view-all{display:inline-block;}

/* --- search icon (SVG) بدون نیاز به فونت آیکن --- */
.sas-icon{
  width:18px;height:18px;flex:0 0 18px;opacity:.75;
  background-repeat:no-repeat;background-position:center;background-size:18px 18px;
  background-image:url("data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='11' cy='11' r='7.5' stroke='%238899a6' stroke-width='2'/%3E%3Cpath d='M16.5 16.5L21 21' stroke='%238899a6' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");
}
